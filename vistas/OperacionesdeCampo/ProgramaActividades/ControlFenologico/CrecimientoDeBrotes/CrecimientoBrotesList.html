<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../../../../../estilo/main.css">
    <link rel="stylesheet" href="https://cdn.datatables.net/1.10.20/css/dataTables.bootstrap4.min.css">
    <title></title>
</head>
<body class="pagina">

    <div class="app-page-title">

        <div class="page-title-wrapper">

            <div class="page-title-heading">
                <div class="page-title-icon">
                    <i class="fas fa-sticky-note icon-gradient bg-night-fade">
                    </i>
                </div>
                <div>Crecimiento de Brotación 
                    <div class="page-title-subheading"> Listado de los crecimientos de brote creados en el sistema.
                    </div>
                </div>
            </div>

            <div class="page-title-actions">
                

                <div class="d-inline-block dropdown">
                    <button type="button" data-toggle="dropdown" aria-haspopup="true"
                        aria-expanded="false" class="btn-shadow dropdown-toggle btn btn-info">
                        <span class="btn-icon-wrapper pr-2 opacity-7">
                            <i class="fa fa-business-time fa-w-20"></i>
                        </span>
                        Acciones
                    </button>
                    <div tabindex="-1" role="menu" aria-hidden="true"
                        class="dropdown-menu dropdown-menu-right">
                        <ul class="nav flex-column">
                            <li class="nav-item">
                                <a href="CrecimientoBrotes.html" class="nav-link">
                                    <i class="fas fa-plus-square nav-link-icon"></i>
                                    <span>
                                        Nuevo
                                    </span>

                                </a>
                            </li>

                            <li class="nav-item">
                                <a href="javascript:void(0);" class="nav-link" data-toggle="modal"
                                    data-target="#modalProcess">

                                    <i class="fas fa-file-export nav-link-icon" ></i>
                                    <span>
                                        Exportar Excel
                                    </span>

                                </a>
                            </li>

                            <li class="nav-item">
                                <a href="javascript:void(0);" class="nav-link">
                                    <i class="fas fa-window-close nav-link-icon"></i>
                                    <span>
                                        Cerrar
                                    </span>
                                </a>
                            </li>

                        </ul>
                    </div>
                </div>
            </div>

        </div>

    </div>


    <div class="main-card mb-3 card">
        <div class="card-body">
            <h5 class="card-title"  onClick="muestra_oculta('busqueda')">Filtro de Búsqueda <i class="fa fa-angle-down ic"></i> </h5>
            <form class="needs-validation" id="busqueda" novalidate>

                <div class="form-row">

                    <div class="col-md-4 mb-3">
                        <label for="validationCustom01">Código</label>
                        <input type="text" class="form-control" id="validationCustom01"
                            placeholder="ingrese código" value="">

                    </div>
                    <div class="col-md-4 mb-3">

                        <label for="validationCustom03">Fundo</label>
                        <select class="mb-2 form-control">
                            <option>Todos</option>
                            <option>Sacramento</option>
                            
                        </select>
                    </div>

                    <div class="col-md-4 mb-3">

                        <label for="validationCustom03">Producto</label>
                        <select class="mb-2 form-control">
                            <option>Todos</option>
                            <option>Uva</option>
                            <option>Palta</option>
                            <option>Manzana</option>
                        </select>
    
                    </div>
                    <div class="col-md-4 mb-3">
    
                        <label for="validationCustom03">Variedad</label>
                        <select class="mb-2 form-control">
                            <option>Todos</option>
                            <option>Red Globe</option>
                            <option>Flame</option>
                            <option>Autumn Royal</option>
                        </select>
    
                    </div>

                    <div class="col-md-4 mb-3">

                        <label for="validationCustom03">Lote</label>                           
                        <select class="mb-2 form-control">
                            <option>Todos</option>
                            <option>Ampliación 1</option>
                            <option>Ampliación 2</option>
                            <option>Ampliación 3</option>
                    
                        </select>
                    </div>
                    <div class="col-md-4 mb-3">
                        <label for="validationCustom02">Fecha de Programación</label>
                        <input type="date" class="form-control" id="validationCustom01" value="">
                    </div>
                    <div class="col-md-4 mb-3">
                        <label for="validationCustom03">Estado</label>
                        <select class="mb-2 form-control">
                            <option>Todos</option>
                            <option>En Proceso</option>
                            <option>Pendiente</option>
                            <option>Finalizado</option>
                        </select>
                    </div>

                </div>

                <button class="btn btn-primary" type="submit">Refrescar</button>

            </form>

            <script>
                // Example starter JavaScript for disabling form submissions if there are invalid fields
                (function () {
                    'use strict';
                    window.addEventListener('load', function () {
                        // Fetch all the forms we want to apply custom Bootstrap validation styles to
                        var forms = document.getElementsByClassName('needs-validation');
                        // Loop over them and prevent submission
                        var validation = Array.prototype.filter.call(forms, function (form) {
                            form.addEventListener('submit', function (event) {
                                if (form.checkValidity() === false) {
                                    event.preventDefault();
                                    event.stopPropagation();
                                }
                                form.classList.add('was-validated');
                            }, false);
                        });
                    }, false);
                })();
            </script>
        </div>
    </div>



    <div class="main-card mb-3 card">
        <div class="card-body">

            <h5 class="card-title"  onClick="muestra_oculta('resultado')">Resultado <i class="fa fa-angle-down ic"></i> </h5>

            <div class="table-responsive" id="resultado">

                <table id="tablax" class="mb-5 table">
                    <thead class="tabla_encabezado">
                        <tr>
                            <th>Código </th>
                            <th>Fundo</th>
                            <th>Lote</th>
                            <th>Producto</th>
                            <th>Variedad</th>
                            <th>Fecha de Programación</th>
                            <th>Estado</th>
                            <th></th>

                        </tr>
                    </thead>
                    <tbody>

                        <tr>
                            <th scope="row">CB000001</th>
                            <td>Sacramento</td>
                            <td>Ampliación 1 </td>
                            <td>Uva</td>
                            <td>Red Globe</td>
                            <td>05/01/2022</td>
                            <td>En Proceso</td>
                            <td>
                                <div class="d-inline-block dropdown">
                                    <button type="button" data-toggle="dropdown" aria-haspopup="true"
                                        aria-expanded="false"
                                        class="btn-shadow dropdown-toggle btn btn-info">
                                        <span class="btn-icon-wrapper pr-2 opacity-7">
                                            <i class="fa fa-business-time fa-w-20"></i>
                                        </span>
                                        Acciones
                                    </button>

                                    <div tabindex="-1" role="menu" aria-hidden="true"
                                        class="dropdown-menu dropdown-menu-right">
                                        <ul class="nav flex-column">
                                            <li class="nav-item">
                                                <a href="CrecimientoBrotesModificar.html" class="nav-link">
                                                    <i class="fas fa-pencil-alt nav-link-icon"></i>
                                                    <span>
                                                        Modificar
                                                    </span>
    
                                                </a>
                                            </li>
                                            <li class="nav-item">
                                                <a href="javascript:eliminarCrecimientoBrote();" class="nav-link">
                                                    <i class="fas fa-trash-alt nav-link-icon"></i>
                                                    <span>
                                                        Eliminar
                                                    </span>
    
                                                </a>
                                            </li>
                                            <li class="nav-item">
                                                <a href="CrecimientoBrotesVer.html" class="nav-link">
                                                    <i class="fas fa-eye nav-link-icon"></i>
                                                    <span>
                                                        Ver
                                                    </span>
                                                </a>
                                            </li>
    
                                            <li class="nav-item">
                                                <a href="javascript:void(0);" class="nav-link"
                                                    data-toggle="modal" data-target="#modalCrecimientoBrote">
                                                    <i class="fas fa-edit nav-link-icon"></i>
                                                    <span>
                                                        Registrar Diario
                                                    </span>
                                                </a>
                                            </li>
    
    
                                            <li class="nav-item">
                                                <a href="CrecimientoBrotesReporte.html" class="nav-link">
                                                    <i class="nav-link-icon fas fa-file-signature"></i>
                                                    <span>
                                                        Reporte de Análisis
                                                    </span>
                                                </a>
                                            </li>
                                        </ul>
                                    </div>
                                </div>

                            </td>

                        </tr>

                        <tr>
                            <th scope="row">CB000002</th>
                            <td>Sacramento</td>
                            <td>Ampliación 2 </td>
                            <td>Uva</td>
                            <td>Red Globe</td>
                            <td>25/01/2022</td>
                            <td>Pendiente</td>
                            <td>
                                <div class="d-inline-block dropdown">
                                    <button type="button" data-toggle="dropdown" aria-haspopup="true"
                                        aria-expanded="false"
                                        class="btn-shadow dropdown-toggle btn btn-info">
                                        <span class="btn-icon-wrapper pr-2 opacity-7">
                                            <i class="fa fa-business-time fa-w-20"></i>
                                        </span>
                                        Acciones
                                    </button>

                                    <div tabindex="-1" role="menu" aria-hidden="true"
                                        class="dropdown-menu dropdown-menu-right">
                                        <ul class="nav flex-column">
                                            <li class="nav-item">
                                                <a href="CrecimientoBrotesModificar.html" class="nav-link">
                                                    <i class="fas fa-pencil-alt nav-link-icon"></i>
                                                    <span>
                                                        Modificar
                                                    </span>
    
                                                </a>
                                            </li>
                                            <li class="nav-item">
                                                <a href="javascript:eliminarCrecimientoBrote();" class="nav-link">
                                                    <i class="fas fa-trash-alt nav-link-icon"></i>
                                                    <span>
                                                        Eliminar
                                                    </span>
    
                                                </a>
                                            </li>
                                            <li class="nav-item">
                                                <a href="CrecimientoBrotesVer.html" class="nav-link">
                                                    <i class="fas fa-eye nav-link-icon"></i>
                                                    <span>
                                                        Ver
                                                    </span>
                                                </a>
                                            </li>
    
                                            <li class="nav-item">
                                                <a href="javascript:void(0);" class="nav-link"
                                                    data-toggle="modal" data-target="#modalCrecimientoBrote">
                                                    <i class="fas fa-edit nav-link-icon"></i>
                                                    <span>
                                                        Registrar Diario
                                                    </span>
                                                </a>
                                            </li>
    
    
                                            <li class="nav-item">
                                                <a href="CrecimientoBrotesReporte.html" class="nav-link">
                                                    <i class="nav-link-icon fas fa-file-signature"></i>
                                                    <span>
                                                        Reporte de Análisis
                                                    </span>
                                                </a>
                                            </li>
                                        </ul>
                                    </div>
                                </div>

                            </td>

                        </tr>
                        
                        <tr>
                            <th scope="row">CB000003</th>
                            <td>Sacramento</td>
                            <td>Ampliación 3 </td>
                            <td>Uva</td>
                            <td>Red Globe</td>
                            <td>18/01/2022</td>
                            <td>Finalizado</td>
                            <td>
                                <div class="d-inline-block dropdown">
                                    <button type="button" data-toggle="dropdown" aria-haspopup="true"
                                        aria-expanded="false"
                                        class="btn-shadow dropdown-toggle btn btn-info">
                                        <span class="btn-icon-wrapper pr-2 opacity-7">
                                            <i class="fa fa-business-time fa-w-20"></i>
                                        </span>
                                        Acciones
                                    </button>

                                    <div tabindex="-1" role="menu" aria-hidden="true"
                                        class="dropdown-menu dropdown-menu-right">
                                        <ul class="nav flex-column">
                                            <li class="nav-item"  style="pointer-events: none;opacity: 0.5;">
                                                <a href="CrecimientoBrotesModificar.html" class="nav-link">
                                                    <i class="fas fa-pencil-alt nav-link-icon"></i>
                                                    <span>
                                                        Modificar
                                                    </span>
    
                                                </a>
                                            </li>
                                            <li class="nav-item"  style="pointer-events: none;opacity: 0.5;">
                                                <a href="javascript:eliminarCrecimientoBrote();" class="nav-link">
                                                    <i class="fas fa-trash-alt nav-link-icon"></i>
                                                    <span>
                                                        Eliminar
                                                    </span>
    
                                                </a>
                                            </li>
                                            <li class="nav-item">
                                                <a href="CrecimientoBrotesVer.html" class="nav-link">
                                                    <i class="fas fa-eye nav-link-icon"></i>
                                                    <span>
                                                        Ver
                                                    </span>
                                                </a>
                                            </li>
    
                                            <li class="nav-item"  style="pointer-events: none;opacity: 0.5;">
                                                <a href="javascript:void(0);" class="nav-link"
                                                    data-toggle="modal" data-target="#modalCrecimientoBrote">
                                                    <i class="fas fa-edit nav-link-icon"></i>
                                                    <span>
                                                        Registrar Diario
                                                    </span>
                                                </a>
                                            </li>
    
    
                                            <li class="nav-item">
                                                <a href="CrecimientoBrotesReporte.html" class="nav-link">
                                                    <i class="nav-link-icon fas fa-file-signature"></i>
                                                    <span>
                                                        Reporte de Análisis
                                                    </span>
                                                </a>
                                            </li>
    
                                        </ul>
                                    </div>
                                </div>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>

    <script>
        function eliminarConteoRacimo() {
            if (confirm("Esta seguro de eliminar?")) {

            }
        }
    </script>

  

    <div class="modal fade" id="modalCrecimientoBrote" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
        aria-hidden="true">
        <div class="modal-dialog ">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLabel">Registrar Diario</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">

                    <form class="needs-validation" novalidate>

                        <div class="form-row">

                            <div class="col-md-6 mb-3">
                                <label for="validationCustom02">Nro. Zona</label>
                                <select name="" id="" class="form-control">
                                    <option value="">Seleccione</option>
                                    <option value="">1</option>
                                    <option value="">2</option>
                                    <option value="">3</option>
                                </select>
                                <div class="invalid-feedback">
                                    Por favor seleccionar nro. zona
                                </div>

                            </div>


                            <div class="col-md-6 mb-3">
                                <label for="validationCustom02">Nro. Planta</label>
                                <select name="" id="" class="form-control">
                                    <option value="">Seleccione</option>
                                    <option value="">1</option>
                                    <option value="">2</option>
                                    <option value="">3</option>
                                </select>
                                <div class="invalid-feedback">
                                    Por favor seleccionar nro. zona
                                </div>

                            </div>
                            <div class="col-md-6 mb-3">
                                <label for="validationCustom02">Identificador del Cargador</label>
                                <input type="text" name="" id="" class="form-control" value=""  >
                                <div class="invalid-feedback">
                                    Por favor seleccionar nro. zona
                                </div>

                            </div>

                            <div class="col-md-6 mb-3">
                                <label for="validationCustom02">Fecha de Evaluación</label>
                                <input type="date" name="" id="FechaActual"disabled  class="form-control" >
                                <div class="invalid-feedback">
                                    Por favor seleccionar nro. zona
                                </div>

                            </div>

                        </div>

                        <div class="form-row">
                            <div class="cabeza_tabla_variedadPoduc">
                                <span class="span_enfermedades_titulo">Evaluación de Calibre de Brotación</span>
                                <div class="agregar_enfermedad">
                                    <!-- <a href="javascript:suma()">Sumar</a> -->
                                    <a href="javascript:eliminarFila()" class="btn btn-danger"  id="btnEliminarCargadores" > <i class="fas fa-trash-alt"></i></a>
                                    <a href="javascript:insertarFila()"  class="btn btn-success" id="btnAgregar" > <i class="fas fa-plus-square"></i> </a>
                                </div> 
                            </div> 
                        <div class="table-responsive tablaBrote">                                  
                            <table class="mb-5 table colorTable " id="tablaRacimo" >
                                <thead class="tabla_encabezado" id="cabeza">
                                    <tr>
                                        <!-- <th>CBO</th>  -->
                                        <th>Yema</th>
                                        <th>Medida. MM </th>
                                    </tr>
                                </thead> 
                                <tbody id="cuerpo">

                                    
                                </tbody> 
                                <tfoot>
                                    <tr class="negritaenTabla">
                                        <td>Promedio</td>
                                        <td> <input type="number" disabled class="form-control" min="0" value="0" id="valor 1" >  </td>
                                    </tr> 
                                </tfoot>
                            </table>
                        </div>  
                        </div>

                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Cerrar</button>       
                    <button type="button" class="btn btn-primary" onclick="calcular();" >Registrar datos</button>
                </div>
            </div>
        </div>
    </div>

    <script>

        function suma(){
                // obtenemos todas las filas del tbody
                const filas=document.querySelectorAll("#tablaRacimo tbody tr");
                  // bucle por cada una de las filas
                  filas.forEach((fila) => {
                  // obtenemos los tds de cada fila
                  const tds=fila.querySelectorAll("td");
                  let total=0;
                  // bucle por cada uno de los tds con excepcion el primero (producto) y ultimo (total)
                  for(let j=1; j<tds.length; j++) {
                      // sumamos los tds
                      total+=parseFloat(tds[j].value);
                  }
                      // mostramos el total
                      console.log(total);
                    // var totalS = document.getElementById("promedio");
                    //   totalS.value=total;
                  
              });
        }
        
        
       function fecha1(){
          var fecha = new Date(); //Fecha actual
          var mes = fecha.getMonth()+1; //obteniendo mes
          var dia = fecha.getDate(); //obteniendo dia
          var ano = fecha.getFullYear(); //obteniendo año
          if(dia<10)
            dia='0'+dia; //agrega cero si el menor de 10
          if(mes<10)
            mes='0'+mes //agrega cero si el menor de 10
          document.getElementById('FechaActual').value=ano+"-"+mes+"-"+dia;
        }
        fecha1();

        function insertarFila(){
            var tabla = document.getElementById("cuerpo"); 
            for(i = 1; i<tabla.getElementsByTagName('tr').length+1; i++){
                i
            }
            tabla.insertRow(-1).innerHTML = '<td>'+i+'</td>'+
                                            ' <td> <input type="number" name=""  class="form-control" min="0" value="0" id="valor'+i+' " > </td>';
           
      
        } 

        function eliminarFila(){
            $("#cuerpo tr:last-child ").remove();
        }
    </script>


    <div class="modal fade" id="modalProcess" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
        aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">

                <div class="modal-body">

                    <div class="mb-3 progress">
                        <div class="progress-bar progress-bar-animated progress-bar-striped" role="progressbar"
                            aria-valuenow="10" aria-valuemin="0" aria-valuemax="100" style="width: 10%;"></div>
                    </div>

                    <p>Generando reporte de crecimiento de brote... </p>

                </div>


            </div>
        </div>
    </div>

    <!-- JQUERY -->
<script src="https://code.jquery.com/jquery-3.4.1.js"
integrity="sha256-WpOohJOqMqqyKL9FccASB9O0KwACQJpFTUBLTYOVvVU=" crossorigin="anonymous"></script>
<!-- DATATABLES -->
<script src="https://cdn.datatables.net/1.10.20/js/jquery.dataTables.min.js"></script>
<!-- BOOTSTRAP -->
<script src="https://cdn.datatables.net/1.10.20/js/dataTables.bootstrap4.min.js"></script>

    <script type="text/javascript" src="../../../../../assets/scripts/tree_view.js"></script>
    <script type="text/javascript" src="../../../../../assets/scripts/Tabla.js"></script>
    <script type="text/javascript" src="../../../../../assets/scripts/main.js"></script>

</body>
</html>